import { Component, OnInit, inject } from '@angular/core';
import { NgFor, NgIf, NgClass } from '@angular/common';
import { SeoService } from '../../../shared/services/seo.service';

export interface FaqItem {
  question: string;
  answer: string;
}

@Component({
  selector: 'app-faq-page',
  standalone: true,
  imports: [NgFor, NgIf, NgClass],
  templateUrl: './faq-page.component.html',
  styleUrls: ['./faq-page.component.scss']
})
export class FaqPageComponent implements OnInit {
  faqs: FaqItem[] = [
    {
      question: 'Кто обязан проходить НОК?',
      answer: 'Специалисты, включенные в Национальный реестр специалистов (НРС) следующих областей: строительство, архитектурно-строительное проектирование, инженерные изыскания, пожарная безопасность (с 1 марта 2025 года).'
    },
    {
      question: 'Как часто нужно проходить НОК?',
      answer: 'Общее правило — не реже 1 раза в 5 лет. С 27.02.2025 для некоторых специальностей строительной отрасли — не реже 1 раза в 3 года.'
    },
    {
      question: 'Что будет, если не пройти НОК в срок?',
      answer: 'Сведения о специалисте будут исключены из НРС. Повторное включение возможно только через 2 года после исключения.'
    },
    {
      question: 'Сколько попыток дается на сдачу экзамена?',
      answer: 'Только 1 попытка на каждую оплаченную сессию. При неудачной сдаче необходимо заново оплачивать пошлину и пересдавать весь экзамен.'
    },
    {
      question: 'Можно ли пересдать только практическую часть, если теория сдана?',
      answer: 'Нет. При новой попытке необходимо заново сдавать и теорию, и практику.'
    },
    {
      question: 'Какие проходные баллы для экзамена?',
      answer: 'Теоретическая часть: 36 из 50 (72%) или 30 из 40 (75%). Практическая часть: 70-80 баллов.'
    },
    {
      question: 'Где можно пройти НОК?',
      answer: 'В аккредитованных Центрах оценки квалификаций (ЦОК) — более 200 площадок по всей России. Список на сайте НАРК.'
    },
    {
      question: 'Можно ли пройти НОК дистанционно?',
      answer: 'Подача документов и регистрация — онлайн, экзамен проводится очно в ЦОК.'
    },
    {
      question: 'Как долго действует свидетельство о квалификации?',
      answer: 'До 27.02.2025 — 5 лет, с 27.02.2025 — 3 года для отдельных специальностей, 5 лет для остальных.'
    },
    {
      question: 'Что делать, если потерял свидетельство?',
      answer: 'Обратиться в ЦОК, который выдавал свидетельство, с заявлением о выдаче дубликата.'
    },
    // Дополнительные вопросы
    {
      question: 'Какие документы нужны для прохождения НОК?',
      answer: 'Паспорт, документы об образовании, подтверждение опыта работы, заявление, иные документы по требованию.'
    },
    {
      question: 'Сколько стоит прохождение НОК?',
      answer: 'В 2025 году: строительные специальности — 24 000 ₽, проектные — 22 000 ₽ и выше. Актуальные цены уточняйте в ЦОК.'
    },
    {
      question: 'Какие последствия для работодателя, если специалист не прошёл НОК?',
      answer: 'Административные штрафы, ограничения на участие в закупках, приостановление лицензий, репутационные риски.'
    },
    {
      question: 'Где найти официальный список ЦОК?',
      answer: 'На сайте НАРК (https://nark.ru) и в реестре НОК (https://нок-нарк.рф).' 
    },
    {
      question: 'Можно ли подготовиться к экзамену заранее?',
      answer: 'Да, существуют подготовительные курсы и консультации. Рекомендуется заранее изучить профессиональные стандарты.'
    }
  ];
  openedIndex: number | null = null;
  private seo: SeoService = inject(SeoService);

  ngOnInit(): void {
    this.seo.setSeoData({
      title: 'FAQ по независимой оценке квалификации (НОК) — Часто задаваемые вопросы',
      description: 'Ответы на самые частые вопросы о независимой оценке квалификации (НОК): сроки, стоимость, документы, последствия, подготовка и многое другое.',
      keywords: 'НОК, FAQ, часто задаваемые вопросы, независимая оценка квалификации, экзамен, документы, стоимость, последствия, подготовка',
      ogImage: '/assets/images/og-default.jpg'
    });
    this.seo.addFaqStructuredData(this.faqs);
  }

  toggle(index: number) {
    this.openedIndex = this.openedIndex === index ? null : index;
  }
} 