<header class="fixed top-0 left-0 right-0 z-50 glass backdrop-blur-2xl border-b border-brand-sky/30">
  <nav class="container mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center gap-3 group cursor-pointer" routerLink="/">
        <div class="relative">
          <div class="w-12 h-12 neomorphic rounded-2xl flex items-center justify-center text-2xl group-hover:animate-pulse-glow transition-all duration-300">
            üèóÔ∏è
          </div>
          <div class="absolute -top-1 -right-1 w-4 h-4 bg-brand-sky rounded-full animate-pulse"></div>
        </div>
        <div>
          <div class="text-xl font-black text-gradient-primary">{{ organizationName }}</div>
          <p class="text-xs text-brand-dark/70">–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É—Å–ø–µ—Ö</p>
        </div>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center gap-8">
        <a routerLink="/"
           class="relative group px-4 py-2 rounded-xl transition-all duration-300 hover:glass">
          <span class="relative z-10 text-brand-dark group-hover:text-gradient-primary">–ì–ª–∞–≤–Ω–∞—è</span>
          <div class="absolute inset-0 bg-gradient-to-r from-brand-sky/20 to-brand-coral/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
          <div class="absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-brand-coral to-brand-sky group-hover:w-full group-hover:left-0 transition-all duration-300"></div>
        </a>

        <!-- –£—Å–ª—É–≥–∏ with Submenu -->
        <div class="relative group"
             (mouseenter)="onServicesSubmenuEnter()"
             (mouseleave)="onServicesSubmenuLeave()">
          <a routerLink="/services"
             (click)="closeServicesSubmenu()"
             class="relative px-4 py-2 rounded-xl transition-all duration-300 hover:glass flex items-center gap-2">
            <span class="relative z-10 text-brand-dark group-hover:text-gradient-primary">–£—Å–ª—É–≥–∏</span>
            <svg class="w-4 h-4 text-brand-dark group-hover:text-brand-coral transition-all duration-300 transform group-hover:rotate-180" 
                 fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
            <div class="absolute inset-0 bg-gradient-to-r from-brand-sky/20 to-brand-coral/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
            <div class="absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-brand-coral to-brand-sky group-hover:w-full group-hover:left-0 transition-all duration-300"></div>
          </a>

          <!-- Services Submenu -->
          <div 
            *ngIf="showServicesSubmenu"
            class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-80 bg-white/95 backdrop-blur-xl rounded-2xl border border-brand-sky/20 shadow-2xl p-6 z-50 animate-fade-in">
            
            <!-- Submenu Header -->
            <div class="text-center mb-6">
              <h3 class="text-lg font-bold text-brand-dark mb-2">–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h3>
              <p class="text-brand-dark/70 text-sm">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ù–û–ö</p>
            </div>

            <!-- Services List -->
            <div class="space-y-3">
              <a 
                *ngFor="let service of headerServices"
                [routerLink]="service.route"
                (click)="closeServicesSubmenu()"
                class="flex items-center gap-3 p-3 rounded-xl hover:bg-brand-coral/10 transition-all duration-300 group">
                <div class="w-10 h-10 rounded-xl flex items-center justify-center"
                     [class]="service.color">
                  <span class="text-xl">{{ service.icon }}</span>
                </div>
                <div class="flex-1">
                  <div class="font-semibold text-brand-dark group-hover:text-brand-coral transition-colors">{{ service.title }}</div>
                  <div class="text-xs text-brand-dark/60">{{ service.description }}</div>
                </div>
                <div *ngIf="service.popular" class="bg-brand-coral text-white px-2 py-1 rounded-full text-xs font-bold">–ü–æ–ø—É–ª—è—Ä–Ω–æ</div>
              </a>
            </div>

            <!-- Quick Action -->
            <div class="mt-6 pt-4 border-t border-brand-sky/10">
              <a routerLink="/services" 
                 (click)="closeServicesSubmenu()"
                 class="block w-full bg-brand-navy text-white px-4 py-3 rounded-xl font-medium hover:bg-brand-dark transition-all duration-300 text-center">
                üìã –í—Å–µ —É—Å–ª—É–≥–∏
              </a>
            </div>
          </div>
        </div>

        <!-- –ù–û–ö with Mega Menu -->
        <div class="relative group"
             (mouseenter)="onMegaMenuEnter()"
             (mouseleave)="onMegaMenuLeave()">
          <a routerLink="/info"
             (click)="closeMegaMenu()"
             class="relative px-4 py-2 rounded-xl transition-all duration-300 hover:glass flex items-center gap-2">
            <span class="relative z-10 text-brand-dark group-hover:text-gradient-primary">–ù–û–ö</span>
            <svg class="w-4 h-4 text-brand-dark group-hover:text-brand-coral transition-all duration-300 transform group-hover:rotate-180" 
                 fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
            <div class="absolute inset-0 bg-gradient-to-r from-brand-sky/20 to-brand-coral/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
            <div class="absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-brand-coral to-brand-sky group-hover:w-full group-hover:left-0 transition-all duration-300"></div>
          </a>

          <!-- Mega Menu -->
          <div 
            *ngIf="showMegaMenu"
            class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-screen max-w-6xl bg-white/95 backdrop-blur-xl rounded-3xl border border-brand-sky/20 shadow-2xl p-8 z-50 animate-fade-in">
            
            <!-- Mega Menu Header -->
            <div class="text-center mb-8">
              <h3 class="text-2xl font-bold text-brand-dark mb-2">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ù–û–ö</h3>
              <p class="text-brand-dark/70 font-medium">–ü–æ–ª–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ü–µ–Ω–∫–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏</p>
            </div>

            <!-- Categories Grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
              <div 
                *ngFor="let category of menuCategories"
                class="group p-4 rounded-2xl hover:bg-white/70 transition-all duration-300 cursor-pointer border border-transparent hover:border-brand-sky/20">
                
                <!-- Category Header -->
                <div class="flex items-center gap-3 mb-4">
                  <div class="w-12 h-12 rounded-xl flex items-center justify-center text-2xl"
                       [class]="category.color">
                    <span class="text-white drop-shadow-sm">{{ category.icon }}</span>
                  </div>
                  <div>
                    <h4 class="font-bold text-brand-dark text-sm leading-tight">{{ category.name }}</h4>
                    <p class="text-xs text-brand-dark/60">{{ category.pages.length }} —Å—Ç—Ä–∞–Ω–∏—Ü</p>
                  </div>
                </div>

                <!-- Top Pages -->
                <div class="space-y-0">
                  <a 
                    *ngFor="let page of category.pages.slice(0, 4)"
                    [routerLink]="'/info/' + page.slug"
                    (click)="closeMegaMenu()"
                    class="block p-2 rounded-xl hover:bg-brand-sky/10 transition-colors duration-200 group">
                    <div class="flex items-center gap-2">
                      <span class="text-sm">{{ page.icon }}</span>
                      <span class="text-sm font-medium text-brand-dark group-hover:text-brand-navy line-clamp-1">
                        {{ page.title }}
                      </span>
                    </div>
                  </a>
                </div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="flex justify-center gap-4 mt-8 pt-6 border-t border-brand-sky/10">
              <a routerLink="/info" 
                 (click)="closeMegaMenu()"
                 class="bg-brand-navy text-white px-6 py-3 rounded-xl font-medium hover:bg-brand-dark transition-all duration-300 hover:shadow-lg">
                üìö –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
              </a>
              <a routerLink="/qa-centers"
                 (click)="closeMegaMenu()"
                 class="bg-brand-sky text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-600 transition-all duration-300 hover:shadow-lg">
                üè¢ –¶–µ–Ω—Ç—Ä—ã –¶–û–ö
              </a>
              <a routerLink="/info/online-trainer"
                 (click)="closeMegaMenu()"
                 class="bg-brand-coral text-white px-6 py-3 rounded-xl font-medium hover:bg-orange-600 transition-all duration-300 hover:shadow-lg">
                üíª –¢—Ä–µ–Ω–∞–∂–µ—Ä –ù–û–ö
              </a>
            </div>
          </div>
        </div>

        <!-- FAQ -->
        <a routerLink="/faq"
           class="relative group px-4 py-2 rounded-xl transition-all duration-300 hover:glass">
          <span class="relative z-10 text-brand-dark group-hover:text-gradient-primary">FAQ</span>
          <div class="absolute inset-0 bg-gradient-to-r from-brand-sky/20 to-brand-coral/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
          <div class="absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-brand-coral to-brand-sky group-hover:w-full group-hover:left-0 transition-all duration-300"></div>
        </a>

        <!-- –û—Ç–∑—ã–≤—ã -->
        <a routerLink="/reviews"
           class="relative group px-4 py-2 rounded-xl transition-all duration-300 hover:glass">
          <span class="relative z-10 text-brand-dark group-hover:text-gradient-primary">–û—Ç–∑—ã–≤—ã</span>
          <div class="absolute inset-0 bg-gradient-to-r from-brand-sky/20 to-brand-coral/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
          <div class="absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-brand-coral to-brand-sky group-hover:w-full group-hover:left-0 transition-all duration-300"></div>
        </a>

        <a routerLink="/contacts"
           class="relative group px-4 py-2 rounded-xl transition-all duration-300 hover:glass">
          <span class="relative z-10 text-brand-dark group-hover:text-gradient-primary">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
          <div class="absolute inset-0 bg-gradient-to-r from-brand-sky/20 to-brand-coral/10 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
          <div class="absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-brand-coral to-brand-sky group-hover:w-full group-hover:left-0 transition-all duration-300"></div>
        </a>
      </div>

      <!-- Desktop Consultation Button -->
      <button
        (click)="openConsultationPopup()"
        class="btn-coral px-6 py-2 text-sm hover-glow">
        üöÄ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è
      </button>

      <!-- Mobile Menu Button -->
      <button
        (click)="toggleMobileMenu()"
        aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é"
        class="lg:hidden glass-dark p-3 rounded-xl hover-lift border-brand-sky">
        <svg class="w-6 h-6 text-brand-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div 
      [class.hidden]="!mobileMenuOpen"
      class="lg:hidden mt-6 glass rounded-2xl p-6 animate-slide-up border-brand-sky">
      <div class="space-y-4">
        <a routerLink="/"
           (click)="closeMobileMenu()"
           class="block p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
          üè† –ì–ª–∞–≤–Ω–∞—è
        </a>
        <!-- Mobile –£—Å–ª—É–≥–∏ Submenu -->
        <div class="space-y-2">
          <button 
            (click)="toggleServicesSubmenu()"
            aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–º–µ–Ω—é —É—Å–ª—É–≥"
            class="w-full flex items-center justify-between p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
            <span>üõ†Ô∏è –£—Å–ª—É–≥–∏</span>
            <svg 
              [class.rotate-180]="servicesSubmenuOpen"
              class="w-4 h-4 transition-transform duration-300" 
              fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          
          <div 
            [class.hidden]="!servicesSubmenuOpen"
            class="pl-4 space-y-2 border-l-2 border-brand-sky/20">
            <a routerLink="/services/nok-nostroy"
               (click)="closeMobileMenu()"
               class="block p-2 rounded-lg hover:bg-brand-coral/10 transition-colors text-sm text-brand-dark">
              üèóÔ∏è –ù–û–ö –ù–û–°–¢–†–û–ô
            </a>
            <a routerLink="/services/nok-nopriz"
               (click)="closeMobileMenu()"
               class="block p-2 rounded-lg hover:bg-brand-sky/10 transition-colors text-sm text-brand-dark">
              üìê –ù–û–ö –ù–û–ü–†–ò–ó
            </a>
            <a routerLink="/services"
               (click)="closeMobileMenu()"
               class="block p-2 rounded-lg hover:bg-brand-navy/10 transition-colors text-sm text-brand-dark">
              üë®‚Äçüè´ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
            </a>
            <a routerLink="/services"
               (click)="closeMobileMenu()"
               class="block p-2 rounded-lg hover:bg-brand-sky/10 transition-colors text-sm text-brand-dark">
              üìã –í—Å–µ —É—Å–ª—É–≥–∏
            </a>
          </div>
        </div>
        
        <!-- Mobile –ù–û–ö Submenu -->
        <div class="space-y-2">
          <button 
            (click)="toggleNokSubmenu()"
            aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–º–µ–Ω—é –ù–û–ö"
            class="w-full flex items-center justify-between p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
            <span>üèóÔ∏è –ù–û–ö</span>
            <svg 
              [class.rotate-180]="nokSubmenuOpen"
              class="w-4 h-4 transition-transform duration-300" 
              fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          
          <div 
            [class.hidden]="!nokSubmenuOpen"
            class="pl-4 space-y-2 border-l-2 border-brand-sky/20">
            <a routerLink="/info"
               (click)="closeMobileMenu()"
               class="block p-2 rounded-lg hover:bg-brand-sky/10 transition-colors text-sm text-brand-dark">
              üìö –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
            </a>
            <a routerLink="/qa-centers"
               (click)="closeMobileMenu()"
               class="block p-2 rounded-lg hover:bg-brand-sky/10 transition-colors text-sm text-brand-dark">
              üè¢ –¶–µ–Ω—Ç—Ä—ã –¶–û–ö
            </a>
            <a
              *ngFor="let category of menuCategories.slice(0, 3)"
              [routerLink]="'/info/' + category.pages[0]?.slug"
              (click)="closeMobileMenu()"
              class="block p-2 rounded-lg hover:bg-brand-sky/10 transition-colors text-sm text-brand-dark">
              {{ category.icon }} {{ category.name }}
            </a>
          </div>
        </div>

        <a routerLink="/contacts"
           (click)="closeMobileMenu()"
           class="block p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
          üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã
        </a>
        <!-- FAQ -->
        <a routerLink="/faq"
           (click)="closeMobileMenu()"
           class="block p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
          ‚ùì FAQ
        </a>
        <!-- –û—Ç–∑—ã–≤—ã -->
        <a routerLink="/reviews"
           (click)="closeMobileMenu()"
           class="block p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
          ‚≠ê –û—Ç–∑—ã–≤—ã
        </a>

        <!-- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ -->
        <a routerLink="/consultation"
           (click)="closeMobileMenu()"
           class="block p-3 rounded-xl hover:glass-dark transition-all duration-300 text-brand-dark">
          üë®‚Äçüè´ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
        </a>

        <div class="pt-4 border-t border-brand-sky/30 space-y-3">
          <a [href]="'tel:' + phoneHref"
             class="block p-3 glass-dark rounded-xl text-center font-medium text-brand-dark border-brand-sky">
            üìû {{ phoneDisplay }}
          </a>
          <button 
            (click)="openConsultationPopup()"
            class="btn-coral w-full py-3">
            üöÄ –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
          </button>
        </div>
      </div>
    </div>
  </nav>
</header>

<!-- Header Spacer -->
<div class="h-20"></div> 